services:
  radicale-it:
    image: ghcr.io/kozea/radicale:latest
    # Do not bind host ports here; Testcontainers will map them dynamically.
    expose:
      - "5232"
    environment:
      - LOG_LEVEL=debug
      - RADICALE_CONFIG=/etc/radicale/config
    # Run as root in CI to avoid bind mount permission issues on /data
    user: "0:0"
    volumes:
      - ./config:/etc/radicale:ro
      - ./data:/data
